<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx/8.0.171"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.gestion_panaderia.controller.PedidosController"
            prefWidth="1200" prefHeight="700"
            style="-fx-background-color: linear-gradient(to bottom right, #fff6cc, #ffe6a1);">

    <!-- MENÃš LATERAL -->
    <left>
        <VBox prefWidth="220" spacing="15"
              style="-fx-background-color: linear-gradient(to bottom, #ffb347, #ffcc33); -fx-padding: 20; -fx-alignment: TOP_CENTER;">

            <Label text=" DULCE TENTACIÃ“N"
                   style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: #5c4033; -fx-effect: dropshadow(gaussian, rgba(255,255,255,0.5), 2,0,0,1);"/>

            <Separator prefWidth="180" style="-fx-background-color: #5c4033;"/>

            <!-- BOTONES DEL MENÃš -->
            <Button fx:id="btnVentas" text="Ventas" prefWidth="180" prefHeight="40"
                    style="-fx-background-color: #fff2cc; -fx-text-fill: #5c4033; -fx-font-weight: bold; -fx-background-radius: 12;"/>

            <Button fx:id="btnPedidos" text="Pedidos" prefWidth="180" prefHeight="40"
                    style="-fx-background-color: #ffb84d; -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, #cc6600, 6, 0.3, 0, 1);"/>

            <Button fx:id="btnProductos" text="Productos" prefWidth="180" prefHeight="40"
                    style="-fx-background-color: #fff2cc; -fx-text-fill: #5c4033; -fx-font-weight: bold; -fx-background-radius: 12;"/>

            <Button fx:id="btnInventario" text="Inventario" prefWidth="180" prefHeight="40"
                    style="-fx-background-color: #fff2cc; -fx-text-fill: #5c4033; -fx-font-weight: bold; -fx-background-radius: 12;"/>

            <Button fx:id="btnClientes" text="Clientes" prefWidth="180" prefHeight="40"
                    style="-fx-background-color: #fff2cc; -fx-text-fill: #5c4033; -fx-font-weight: bold; -fx-background-radius: 12;"/>

            <Button fx:id="btnRecibos" text="Recibos" prefWidth="180" prefHeight="40"
                    style="-fx-background-color: #fff2cc; -fx-text-fill: #5c4033; -fx-font-weight: bold; -fx-background-radius: 12;"/>

            <Button fx:id="btnReportes" text="Reportes" prefWidth="180" prefHeight="40"
                    style="-fx-background-color: #fff2cc; -fx-text-fill: #5c4033; -fx-font-weight: bold; -fx-background-radius: 12;"/>

            <Separator prefWidth="180" style="-fx-background-color: #5c4033;"/>

            <!-- SECCIÃ“N DE USUARIO -->
            <VBox spacing="6" style="-fx-background-color: #fff2cc; -fx-background-radius: 10; -fx-padding: 10;">
                <Label text="ðŸ‘¤ Usuario actual"
                       style="-fx-text-fill: #5c4033; -fx-font-weight: bold; -fx-font-size: 13px;"/>
                <Label fx:id="usuarioActual" text="Administrador"
                       style="-fx-text-fill: #5c4033; -fx-font-size: 12px;"/>
                <Label text="admin@dulcetentacion.com"
                       style="-fx-text-fill: #5c4033; -fx-font-size: 11px;"/>
            </VBox>
        </VBox>
    </left>

    <!-- CONTENIDO PRINCIPAL -->
    <center>
        <VBox spacing="20" style="-fx-padding: 20;">

            <!-- ENCABEZADO -->
            <HBox alignment="CENTER_LEFT" spacing="15" prefHeight="70"
                  style="-fx-background-color: linear-gradient(to right, #ffb84d, #ffcc33); -fx-padding: 15; -fx-background-radius: 12;">
                <Label text="ðŸ“‹ GESTIÃ“N DE PEDIDOS"
                       style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #5c4033;"/>
            </HBox>

            <!-- FORMULARIO PARA AGREGAR PEDIDOS -->
            <VBox spacing="15" style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                <Label text="âž• NUEVO PEDIDO"
                       style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #5c4033;"/>

                <GridPane hgap="15" vgap="15">
                    <columnConstraints>
                        <ColumnConstraints prefWidth="150"/>
                        <ColumnConstraints prefWidth="300"/>
                        <ColumnConstraints prefWidth="150"/>
                        <ColumnConstraints prefWidth="300"/>
                    </columnConstraints>

                    <!-- FILA 1 -->
                    <Label text="TÃ­tulo del Pedido:" GridPane.columnIndex="0" GridPane.rowIndex="0"
                           style="-fx-font-weight: bold; -fx-text-fill: #5c4033;"/>
                    <TextField fx:id="txtTituloPedido" promptText="Ej: Pastel de CumpleaÃ±os"
                               GridPane.columnIndex="1" GridPane.rowIndex="0"
                               style="-fx-background-radius: 8; -fx-border-color: #ffcc33; -fx-border-radius: 8;"/>

                    <Label text="Cliente:" GridPane.columnIndex="2" GridPane.rowIndex="0"
                           style="-fx-font-weight: bold; -fx-text-fill: #5c4033;"/>
                    <TextField fx:id="txtClientePedido" promptText="Nombre del cliente"
                               GridPane.columnIndex="3" GridPane.rowIndex="0"
                               style="-fx-background-radius: 8; -fx-border-color: #ffcc33; -fx-border-radius: 8;"/>

                    <!-- FILA 2 -->
                    <Label text="Fecha Entrega:" GridPane.columnIndex="0" GridPane.rowIndex="1"
                           style="-fx-font-weight: bold; -fx-text-fill: #5c4033;"/>
                    <DatePicker fx:id="dpFechaEntrega" GridPane.columnIndex="1" GridPane.rowIndex="1"
                                style="-fx-background-radius: 8; -fx-border-color: #ffcc33; -fx-border-radius: 8;"/>

                    <Label text="Hora Entrega:" GridPane.columnIndex="2" GridPane.rowIndex="1"
                           style="-fx-font-weight: bold; -fx-text-fill: #5c4033;"/>
                    <ComboBox fx:id="cbHoraEntrega" promptText="Seleccione hora"
                              GridPane.columnIndex="3" GridPane.rowIndex="1"
                              style="-fx-background-radius: 8; -fx-border-color: #ffcc33; -fx-border-radius: 8;"/>

                    <!-- FILA 3 -->
                    <Label text="Encargo/DescripciÃ³n:" GridPane.columnIndex="0" GridPane.rowIndex="2"
                           style="-fx-font-weight: bold; -fx-text-fill: #5c4033;"/>
                    <TextArea fx:id="txtDescripcionPedido" promptText="DescripciÃ³n detallada del pedido..."
                              prefRowCount="3" wrapText="true"
                              GridPane.columnIndex="1" GridPane.columnSpan="3" GridPane.rowIndex="2"
                              style="-fx-background-radius: 8; -fx-border-color: #ffcc33; -fx-border-radius: 8;"/>

                    <!-- FILA 4 -->
                    <Label text="Estado:" GridPane.columnIndex="0" GridPane.rowIndex="3"
                           style="-fx-font-weight: bold; -fx-text-fill: #5c4033;"/>
                    <ComboBox fx:id="cbEstadoPedido" promptText="Seleccione estado"
                              GridPane.columnIndex="1" GridPane.rowIndex="3"
                              style="-fx-background-radius: 8; -fx-border-color: #ffcc33; -fx-border-radius: 8;"/>

                    <Label text="TelÃ©fono:" GridPane.columnIndex="2" GridPane.rowIndex="3"
                           style="-fx-font-weight: bold; -fx-text-fill: #5c4033;"/>
                    <TextField fx:id="txtTelefonoCliente" promptText="TelÃ©fono de contacto"
                               GridPane.columnIndex="3" GridPane.rowIndex="3"
                               style="-fx-background-radius: 8; -fx-border-color: #ffcc33; -fx-border-radius: 8;"/>
                </GridPane>

                <!-- BOTONES DEL FORMULARIO -->
                <HBox spacing="15" alignment="CENTER">
                    <Button fx:id="btnAgregarPedido" text="âž• Agregar Pedido" prefWidth="150" prefHeight="40"
                            style="-fx-background-color: linear-gradient(to bottom, #28a745, #5cb85c); -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, #28a745, 6, 0.3, 0, 1);"/>

                    <Button fx:id="btnLimpiarFormulario" text="ðŸ”„ Limpiar" prefWidth="120" prefHeight="40"
                            style="-fx-background-color: #fff2cc; -fx-text-fill: #5c4033; -fx-font-weight: bold; -fx-background-radius: 10; -fx-border-color: #ffcc33; -fx-border-width: 2; -fx-border-radius: 10;"/>
                </HBox>
            </VBox>

            <!-- LISTA DE PEDIDOS -->
            <VBox spacing="10" style="-fx-background-color: white; -fx-padding: 20; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                <HBox alignment="CENTER_LEFT" spacing="15">
                    <Label text="ðŸ“ LISTA DE PEDIDOS"
                           style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #5c4033;" HBox.hgrow="ALWAYS"/>

                    <TextField fx:id="txtBuscarPedidos" promptText="Buscar pedidos..." prefWidth="200"
                               style="-fx-background-radius: 8; -fx-border-color: #ffcc33; -fx-border-radius: 8;"/>

                    <ComboBox fx:id="cbFiltrarEstado" promptText="Todos los estados" prefWidth="150"
                              style="-fx-background-radius: 8; -fx-border-color: #ffcc33; -fx-border-radius: 8;"/>
                </HBox>

                <!-- TABLA DE PEDIDOS -->
                <TableView fx:id="tablaPedidos" prefHeight="300"
                           style="-fx-background-radius: 8; -fx-border-radius: 8; -fx-border-color: #ffcc33; -fx-border-width: 2;">
                    <columns>
                        <TableColumn fx:id="colIdPedido" text="ID" prefWidth="60"/>
                        <TableColumn fx:id="colTituloPedido" text="TÃ­tulo" prefWidth="150"/>
                        <TableColumn fx:id="colClientePedido" text="Cliente" prefWidth="120"/>
                        <TableColumn fx:id="colFechaEntrega" text="Fecha Entrega" prefWidth="100"/>
                        <TableColumn fx:id="colHoraEntrega" text="Hora" prefWidth="80"/>
                        <TableColumn fx:id="colDescripcion" text="DescripciÃ³n" prefWidth="200"/>
                        <TableColumn fx:id="colEstadoPedido" text="Estado" prefWidth="100"/>
                        <TableColumn fx:id="colTelefono" text="TelÃ©fono" prefWidth="100"/>
                        <TableColumn fx:id="colAcciones" text="Acciones" prefWidth="120"/>
                    </columns>
                </TableView>

                <!-- ESTADÃSTICAS RÃPIDAS -->
                <HBox spacing="20" alignment="CENTER" style="-fx-background-color: #fff2cc; -fx-padding: 15; -fx-background-radius: 8;">
                    <VBox alignment="CENTER" spacing="5">
                        <Label text="ðŸ“Š Total Pedidos" style="-fx-font-weight: bold; -fx-text-fill: #5c4033;"/>
                        <Label fx:id="lblTotalPedidos" text="0" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #ff8c00;"/>
                    </VBox>

                    <Separator orientation="VERTICAL"/>

                    <VBox alignment="CENTER" spacing="5">
                        <Label text="â³ Pendientes" style="-fx-font-weight: bold; -fx-text-fill: #5c4033;"/>
                        <Label fx:id="lblPedidosPendientes" text="0" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #dc3545;"/>
                    </VBox>

                    <Separator orientation="VERTICAL"/>

                    <VBox alignment="CENTER" spacing="5">
                        <Label text="âœ… Completados" style="-fx-font-weight: bold; -fx-text-fill: #5c4033;"/>
                        <Label fx:id="lblPedidosCompletados" text="0" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #28a745;"/>
                    </VBox>

                    <Separator orientation="VERTICAL"/>

                    <VBox alignment="CENTER" spacing="5">
                        <Label text="ðŸš€ En Proceso" style="-fx-font-weight: bold; -fx-text-fill: #5c4033;"/>
                        <Label fx:id="lblPedidosProceso" text="0" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #17a2b8;"/>
                    </VBox>
                </HBox>

                <!-- BOTONES DE ACCIÃ“N -->
                <HBox spacing="15" alignment="CENTER_RIGHT">
                    <Button fx:id="btnEditarPedido" text="âœï¸ Editar" prefWidth="100" prefHeight="35"
                            style="-fx-background-color: linear-gradient(to bottom, #17a2b8, #5bc0de); -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 8;"/>

                    <Button fx:id="btnCambiarEstado" text="ðŸ”„ Cambiar Estado" prefWidth="140" prefHeight="35"
                            style="-fx-background-color: linear-gradient(to bottom, #ff8c00, #ffb84d); -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 8;"/>

                    <Button fx:id="btnEliminarPedido" text="ðŸ—‘ï¸ Eliminar" prefWidth="100" prefHeight="35"
                            style="-fx-background-color: linear-gradient(to bottom, #dc3545, #c82333); -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 8;"/>

                    <Button fx:id="btnImprimirPedido" text="ðŸ–¨ï¸ Imprimir" prefWidth="100" prefHeight="35"
                            style="-fx-background-color: linear-gradient(to bottom, #6c757d, #5a6268); -fx-text-fill: white; -fx-font-weight: bold; -fx-background-radius: 8;"/>
                </HBox>
            </VBox>

        </VBox>
    </center>
</BorderPane>